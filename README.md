# Bot 2048

Bot 2048 is an artificial player of the game 2048.

A detailed artcile is available [here](http://thomas-joly.com/).

![Alt Text](bot2048.gif)

## Build

Two files are generated by the Makefile using script located in the folder `tools`:
* `transformation.go` generated by `transformation.py`
* `path.go` generated by `path.py`

```sh
$ make
▶ generate bot/path.go
▶ generate bot/transformation.go
▶ build /home/thomas/git/bot2048/bot2048
```

## Run the test

```sh
$ make test
▶ test
?   	github.com/lunatikub/bot2048	[no test files]
=== RUN   TestSetGetTile
--- PASS: TestSetGetTile (0.00s)
=== RUN   TestSetGetLine
--- PASS: TestSetGetLine (0.00s)
=== RUN   TestSetGetCol
--- PASS: TestSetGetCol (0.00s)
=== RUN   TestMoveLeft
--- PASS: TestMoveLeft (0.00s)
=== RUN   TestMoveRight
--- PASS: TestMoveRight (0.00s)
=== RUN   TestMoveUp
--- PASS: TestMoveUp (0.00s)
=== RUN   TestMoveDown
--- PASS: TestMoveDown (0.00s)
PASS
ok  	github.com/lunatikub/bot2048/bot	0.006s
```

## Usage

When you enable the log and the pretty print, the performance are impacted.

```sh
$ ./bot2048 --help
Usage of ./bot2048:
  -depth int
    	depth of the algorithm (default 3)
  -log string
    	log file
  -pretty
    	dump the doard with ncurses
  -stats
    	dump statistics
```

## BenchMark

Script to bench is located herer: `tools/bench.py`.

Benchmark has been done with 20 runs for each depth from 1 to 7.

<style type="text/css">
  .tftable {font-size:12px;color:#333333;width:100%;border-width: 1px;border-color: #729ea5;border-collapse: collapse;}
  .tftable th {font-size:12px;background-color:#acc8cc;border-width: 1px;padding: 8px;border-style: solid;border-color: #729ea5;text-align:left;}
  .tftable tr {background-color:#d4e3e5;}
  .tftable td {font-size:12px;border-width: 1px;padding: 8px;border-style: solid;border-color: #729ea5;}
  .tftable tr:hover {background-color:#ffffff;}
</style>


<table class="tftable">
  <tr><th>depth</th><th>moves</th><th>moves by second</th><th>board eval by move</th><th>time (second)</th><th>score</th><th>4096</th><th>2048</th><th>1024</th><th>win</th></tr>
  <tr><td>1</td><td>125.55</td><td>221515</td><td>3.47</td><td>0.00056</td><td>437.2</td><td>0%</td><td>0%</td><td>0%</td><td>0%</td></tr>
  <tr><td>2</td><td>116.7</td><td>38968</td><td>42.27</td><td>0.0029</td><td>430</td><td>0%</td><td>0%</td><td>0%</td><td>0%</td></tr>
  <tr><td>3</td><td>761.65</td><td>11482</td><td>138.36</td><td>0.066</td><td>2586.5</td><td>10%</td><td>30%</td><td>50%</td><td>40%</td></tr>
  <tr><td>4</td><td>813.05</td><td>1020</td><td>1789</td><td>0.6</td><td>3121</td><td>13%</td><td>33%</td><td>50%</td><td>46%</td></tr>
  <tr><td>5</td><td>1062</td><td>256</td><td>6260</td><td>4.15</td><td>3608</td><td>20%</td><td>60%</td><td>15%</td><td>80%</td></tr>
  <tr><td>6</td><td>1223</td><td>23</td><td>75748</td><td>53.68</td><td>4208</td><td>25%</td><td>55%</td><td>20%</td><td>80%</td></tr>
  <tr><td>7</td><td>1528</td><td>5.89</td><td>274101</td><td>259</td><td>5214</td><td>55%</td><td>30%</td><td>15%</td><td>85%</td></tr>
</table>

